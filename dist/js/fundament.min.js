/*!
 * Fundament framework v0.3.3
 *
 * https://getfundament.com
 *
 * @license MIT
 * @author Jason Koolman and The Fundament Authors
 */
window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,0)};var Fm=function(e){function t(){return(Math.random().toString(16)+"000000000").substr(2,8)}function i(e,t,i){var n;return function(){var o=this,s=arguments,a=i&&!n,c=function(){n=null,i||e.apply(o,s)};clearTimeout(n),n=setTimeout(c,t),a&&e.apply(o,s)}}function n(e){if(void 0===a[e])for(var t=0;t<s.length;t++){var i=s[t]+e;void 0!==a[i]&&(e=i)}return e}function o(){var e={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var t in e)if(void 0!==a[t])return e[t];return null}var s=["-webkit-","-moz-","-ms-","-o-"],a=e.createElement("div").style;return{createID:t,debounce:i,prefixProp:n,transitionEnd:o}}(document);!function(e,t,i){"use strict";function n(t,i){this.config=e.extend({},e.fn[o].defaults,i),this.elem=t,this.$elem=e(t),this.$wrap=e("<div/>",{class:this.config.classNames.wrap,role:"document"}),this.$dimmer=e("<div/>",{class:this.config.classNames.dimmer}),this.busy=!1,this.init()}var o="dialog",s=["toggle","open","close","setting"],a=Fm.transitionEnd(),c=e(t),r=e(i),l=e(i.body);e.extend(n.prototype,{init:function(){this.setup(),this.bind()},setup:function(){var t=this.config;0===e("."+this.config.classNames.dimmer).length&&l.append(this.$dimmer),this.$dimmer=e("."+t.classNames.dimmer),this.$wrap=this.$elem.wrap(this.$wrap).parent().hide(),t.openFrom&&(t.openFrom=e(t.openFrom))},bind:function(){var e=this,t=e.config;e.$elem.on("click","."+t.classNames.close,e.close.bind(e)).find("."+t.classNames.block).on(a,function(e){e.stopPropagation()}),t.closable&&e.$wrap.on("click",function(t){t.target===this&&e.close()})},toggle:function(){this.$elem.is(":visible")?this.close():this.open()},open:function(){var e=this;e.busy||(e.config.onOpening.call(e.elem),e.busy=!0,e.scrollBar(!1),e.$dimmer.show(),e.$wrap.show(),e.$dimmer.addClass("is-active"),e.transition("In",function(){e.focus(),e.config.onOpen.call(e.elem),e.busy=!1}))},close:function(){var e=this;e.busy||(e.config.onClosing.call(e.elem),e.busy=!0,e.transition("Out",function(){e.$wrap.hide(),e.$dimmer.removeClass("is-active").one(a,function(){e.scrollBar(!0),e.$dimmer.hide(),e.config.onClose.call(e.elem),e.busy=!1})}))},transition:function(t,i){var n=this.config.transition+t,o={duration:1.5*e.fn.transition.defaults.duration,onEnd:i};this.config.openFrom&&(n="dialog"+t,o.curve="cubic-bezier(0.4,0.7,0.6,1)",o.animations=this.getAnimation()),this.$elem.transition(n,o)},scrollBar:function(t){if(!(c.height()>=r.height()))if(t)l.css({overflow:"","padding-right":""});else{var i=e("<div/>").css({width:100,overflow:"scroll",visibility:"hidden"}).appendTo(l),n=e("<div/>").css({width:"100%"}).appendTo(i);l.css({overflow:"hidden","padding-right":100-n.outerWidth()}),i.remove()}},focus:function(){this.config.autoFocus&&this.$elem.find("input, textarea, select").first().focus()},setting:function(t){e.extend(this.config,t)},getAnimation:function(){var e=t.pageYOffset,i=this.config.openFrom,n=i.offset(),o={x:n.left-c.width()/2+i.width()/2,y:n.top-e-c.height()/2+i.height()/2};return{dialog:{start:{opacity:0,transform:"translate("+o.x+"px, "+o.y+"px) scale(0.05)","transform-origin":"center"},end:{opacity:1,transform:"translate(0,0) scale(1)"}}}}}),e.fn[o]=function(t,i){return this.each(function(){var a=e.data(this,o);a?"string"==typeof t&&(s.indexOf(t)>-1?a[t].apply(a,Array.isArray(i)?i:[i]):console.warn(o+": Trying to call a inaccessible method")):e.data(this,o,new n(this,t))})},e.fn[o].defaults={openFrom:null,closable:!0,autoFocus:!0,transition:"scale",classNames:{dimmer:"page-dimmer",wrap:"dialog-wrap",block:"dialog__block",close:"dialog__close"},onOpen:function(){},onOpening:function(){},onClose:function(){},onClosing:function(){}}}(jQuery,window,document),function(e,t){"use strict";function i(t,i){this.config=e.extend({},e.fn[o].defaults,i),this.elem=t,this.$elem=e(t),this.$menu=this.$elem.find("."+this.config.classNames.menu),this.$items=this.$elem.find("."+this.config.classNames.item),this.init()}function n(t){if("SELECT"!==t.nodeName)return t;var i=e.fn[o].defaults.classNames,n=e(t),s=n.find("option"),a=s.filter(":selected"),c=e("<div/>",{class:i.dropdown+" "+i.select,tabindex:0}),r=e("<ul/>",{class:i.menu,role:"listbox","aria-hidden":!0}),l=e("<input/>",{type:"hidden",name:n.attr("name")}),f=e("<span/>",{text:a.text()});return s.each(function(){var t=e(this),n=i.item+(t.is(a)?" is-active":"");""!==t.val()&&e("<li/>",{text:t.text(),class:n,role:"option","data-value":t.val()}).appendTo(r)}),l.val(a.val()),c=n.wrap(c).after(r,f,l).parent(),n.remove(),c[0]}var o="dropdown",s=["toggle","open","close","setting"];e.extend(i.prototype,{init:function(){this.bind(),this.is("select")&&this.is("empty")&&this.$elem.addClass(this.config.classNames.empty)},bind:function(){var t=this;t.$elem.on("mousedown",function(i){var n=e(i.target);n.hasClass(t.config.classNames.item)&&t.select(n),t.toggle()}).on("focusout",t.close.bind(t)).on("keydown",function(e){switch(e.which){case 32:case 13:t.toggle(),e.preventDefault();break;case 38:t.select("prev"),e.preventDefault();break;case 40:t.select("next"),e.preventDefault();break;default:t.selectByKey(e.which)}})},is:function(e){var t=this;return{open:function(){return t.$elem.hasClass(t.config.classNames.open)},select:function(){return t.$elem.hasClass(t.config.classNames.select)},empty:function(){return 0===t.$elem.find("input").val().length}}[e].apply()},select:function(e){var t,i=this,n=i.config.classNames,o=i.$items.filter("."+n.active);if(!(t=e instanceof jQuery?e:o.length?"next"===e?o.next():o.prev():i.$items.first())||0===t.length||t.is(o))return!1;o.removeClass(n.active),t.addClass(n.active),i.$elem.removeClass(n.empty),i.is("select")&&(i.$elem.find("> input").val(t.data("value")),i.$elem.find("> span").text(t.text())),i.config.onSelect.call(i.elem,t[0])},selectByKey:function(t){var i=this,n=String.fromCharCode(t).toLowerCase();if(n){var o=i.$items.filter(function(){return e(this).text().substr(0,1).toLowerCase()===n});if(o.length){var s=o.index(o.filter("."+this.config.classNames.active)),a=e(o[s+1]);a&&a.length?i.select(a):i.select(o.first())}}},toggle:function(){this.is("open")?this.close():this.open()},open:function(){var e=this,i=e.config;if(!e.is("open")){if(i.onOpening.call(e.elem),i.smart){var n=e.$menu.outerHeight(),o=e.$elem.offset().top-t.pageYOffset,s=t.innerHeight-o-e.$elem.outerHeight();e.$elem.toggleClass(i.classNames.reversed,s<n&&o>n)}e.$menu.transition(i.transition+"In",{queue:!1,onEnd:i.onOpen.bind(e.elem)}),e.$elem.addClass(i.classNames.open)}},close:function(){var e=this,t=e.config;e.is("open")&&(t.onClosing.call(e.elem),e.$menu.transition(t.transition+"Out",{queue:!1,onEnd:t.onClose.bind(e.elem)}),e.$elem.removeClass(t.classNames.open))},setting:function(t){e.extend(this.config,t)}}),e.fn[o]=function(t,a){return this.each(function(){var c=n(this),r=e.data(this,o);r?"string"==typeof t&&(s.indexOf(t)>-1?r[t].apply(r,Array.isArray(a)?a:[a]):console.warn(o+": Trying to call a inaccessible method")):e.data(c,o,new i(c,t))})},e.fn[o].defaults={smart:!1,searchable:!1,transition:"display",classNames:{dropdown:"dropdown",select:"dropdown--select",reversed:"dropdown--reversed",open:"is-open",empty:"is-empty",active:"is-active",menu:"menu",item:"menu__item"},onOpen:function(){},onOpening:function(){},onClose:function(){},onClosing:function(){},onSelect:function(e){}}}(jQuery,window),function(e,t,i){"use strict";function n(t,i){this.namespace=s+"."+Fm.createID(),this.config=e.extend({},e.fn[o].defaults,i),this.elem=t,this.$elem=e(t),this.$popup=this.$elem.next("."+this.config.classNames.popup),this.calc=null,this.timer=null,this.active=!1,this.init()}var o="popup",s="."+o,a=["toggle","show","hide","setting","destroy"],c=e(t),r=e(i.body);e.extend(n.prototype,{init:function(){var e=this;e.$popup.length?e.$popup.detach().appendTo(r):e.create(),e.bind()},create:function(){var t=e("<div/>",{class:this.config.classNames.popup,html:e("<div/>").html(this.$elem.attr("title")).text()});t.appendTo(r),this.$elem.attr("title",null),this.$popup=t},bind:function(){var e=this,t=e.namespace;switch(e.config.trigger){case"click":e.$elem.on("click"+t,e.toggle.bind(e));break;case"hover":e.$elem.add(e.config.hoverable?e.$popup:null).on("mouseenter"+t,e.show.bind(e)).on("mouseleave"+t,e.hide.bind(e));break;case"focus":e.$elem.on("focusin"+t,e.show.bind(e)).on("focusout"+t,e.hide.bind(e))}c.on("resize"+t,Fm.debounce(e.hide.bind(e),200,!0))},unbind:function(){var e=this,t=e.namespace;switch(e.config.trigger){case"click":e.$elem.off("click"+t);break;case"hover":e.$elem.add(e.config.hoverable?e.$popup:null).off("mouseenter"+t).off("mouseleave"+t);break;case"focus":e.$elem.off("focusin"+t).off("focusout"+t)}c.off("resize"+t)},calculate:function(){var e=this.$elem.offset();return(!this.calc||this.calc.elem.top!==e.top||this.calc.elem.left!==e.left)&&(this.calc={elem:{width:this.$elem.outerWidth(),height:this.$elem.outerHeight(),top:e.top,left:e.left},popup:{width:this.$popup.outerWidth(),height:this.$popup.outerHeight()}},!0)},position:function(){if(this.calculate()){var e=this,t=e.calc,i=e.$elem.data("direction")||e.config.direction,n=e.config.distance,o={};switch(i){case"north":o={top:t.elem.top-t.popup.height-n,left:t.elem.left+t.elem.width/2-t.popup.width/2};break;case"northeast":o={top:t.elem.top-t.popup.height-n,left:t.elem.left+t.elem.width-t.popup.width};break;case"east":o={top:t.elem.top+t.elem.height/2-t.popup.height/2,left:t.elem.left+t.elem.width+n};break;case"southeast":o={top:t.elem.top+t.elem.height+n,left:t.elem.left+t.elem.width-t.popup.width};break;case"south":o={top:t.elem.top+t.elem.height+n,left:t.elem.left+t.elem.width/2-t.popup.width/2};break;case"southwest":o={top:t.elem.top+t.elem.height+n,left:t.elem.left};break;case"west":o={top:t.elem.top+t.elem.height/2-t.popup.height/2,left:t.elem.left-t.popup.width-n};break;case"northwest":o={top:t.elem.top-t.popup.height-n,left:t.elem.left}}e.$popup.css(o).addClass(e.config.classNames.popup+"--"+i)}},toggle:function(){this.active?this.hide():this.show()},show:function(){var e=this,t=e.config;clearTimeout(e.timer),e.active||(e.position(),e.timer=setTimeout(function(){e.active=!0,e.$popup.transition(t.transition+"In",{queue:!1,onEnd:t.onShow.bind(e.elem)})},t.delay.show||t.delay))},hide:function(){var e=this,t=e.config;clearTimeout(e.timer),e.active&&(e.timer=setTimeout(function(){e.active=!1,e.$popup.transition(t.transition+"Out",{queue:!1,onEnd:t.onHide.bind(e.elem)})},t.delay.hide||t.delay))},setting:function(t){e.extend(this.config,t)},destroy:function(){this.unbind(),this.$popup.remove(),e.data(this.elem,o,null)}}),e.fn[o]=function(t,i){return this.each(function(){var s=e.data(this,o);s?"string"==typeof t&&(a.indexOf(t)>-1?s[t].apply(s,Array.isArray(i)?i:[i]):console.warn(o+": Trying to call a inaccessible method")):e.data(this,o,new n(this,t))})},e.fn[o].defaults={trigger:"hover",transition:"display",direction:"southwest",delay:100,distance:10,hoverable:!1,classNames:{popup:"popup"},onShow:function(){},onHide:function(){}}}(jQuery,window,document),function(e,t,i){"use strict";function n(t,i){this.namespace=a+"."+Fm.createID(),this.config=e.extend({},e.fn[o].defaults,i),this.elem=t,this.$elem=e(t),this.$context=this.$elem.closest(this.config.context),this.calc={},this.isStick=!1,this.isBound=!1,this.recalc=Fm.debounce(this.calculate.bind(this),200),c.on("load",this.init.bind(this))}var o="sticky",s=["calculate","setting","destroy"],a="."+o,c=e(t),r=c.height();e.extend(n.prototype,{init:function(){if(!this.$context.length)return console.warn(o+": Undefined context element");this.bind(),this.observe(),this.calculate()},calculate:function(){var e=this,t=e.calc;if(r=c.height(),e.isStick&&e.make("unStick"),t.contextOffset=e.$context.offset(),t.contextHeight=e.$context.outerHeight(),t.elemOffset=e.$elem.offset(),t.elemSize={width:e.$elem.outerWidth(),height:e.$elem.outerHeight()},t.elemSize.height+e.config.scrollSpace>=t.contextHeight)return console.warn(o+": Insufficient scrolling space available"),this.destroy();e.setBounds(),requestAnimationFrame(e.update.bind(e))},setBounds:function(){var e=this,t=e.calc,i=e.config;t.bounds={top:t.elemOffset.top-i.topOffset,bottom:t.contextOffset.top+t.contextHeight-i.bottomOffset},t.elemSize.height>r?(t.overSized=t.elemSize.height-r+i.bottomOffset,t.bounds.top+=t.overSized+i.topOffset,t.bounds.bottom+=i.topOffset):t.overSized=0},bind:function(){var e=this;c.on("resize"+e.namespace,e.recalc).on("scroll"+e.namespace,function(){requestAnimationFrame(e.update.bind(e))})},unbind:function(){c.off("resize"+this.namespace).off("scroll"+this.namespace)},update:function(){var e=this,i=e.calc,n=t.pageYOffset,o=n+e.config.topOffset+i.elemSize.height-i.overSized;!e.isStick&&n>=i.bounds.top?(e.make("stick"),o>=i.bounds.bottom&&e.make("bound")):e.isStick&&n<i.bounds.top?e.make("unStick"):!e.isBound&&o>=i.bounds.bottom?e.make("bound"):e.isBound&&o<i.bounds.bottom&&e.make("unBound")},make:function(e){var t=this,i=t.calc;return{fixed:function(){t.$elem.css({position:"fixed",top:i.overSized?-i.overSized:t.config.topOffset,bottom:"",width:i.elemSize.width}),t.isStick=!0},stick:function(){t.make("fixed"),t.mask("show"),t.$elem.addClass(t.config.classNames.stick),t.config.onStick.call(t.elem)},unStick:function(){t.clear(),t.mask("hide"),t.isBound=!1,t.isStick=!1,t.config.onUnStick.call(t.elem)},bound:function(){t.$elem.css({position:"absolute",top:"",bottom:t.config.bottomOffset}).addClass(t.config.classNames.bound),t.isBound=!0,t.config.onBound.call(t.elem)},unBound:function(){t.make("fixed"),t.$elem.removeClass(t.config.classNames.bound),t.isBound=!1,t.config.onUnBound.call(t.elem)}}[e].apply(t)},mask:function(t){var i=this,n=i.calc,o=this.$elem.next("."+this.config.classNames.mask);if(i.config.mask)return{show:function(){o.length?o.css({width:n.elemSize.width,height:n.elemSize.height}).show():e("<div/>",{class:i.config.classNames.mask,css:{width:n.elemSize.width,height:n.elemSize.height}}).insertAfter(i.$elem)},hide:function(){o.hide()},remove:function(){o.remove()}}[t].apply(i)},clear:function(){this.$elem.css({position:"",top:"",bottom:"",width:""}).removeClass(this.config.classNames.stick+" "+this.config.classNames.bound)},observe:function(){!this.config.observe||!1 in t||(this.observer=new MutationObserver(this.recalc),this.observer.observe(this.elem,{childList:!0,subtree:!0}),this.contextObserver=new MutationObserver(this.recalc),this.contextObserver.observe(this.$context[0],{childList:!0,subtree:!0}))},setting:function(t){e.extend(this.config,t)},destroy:function(){this.hasOwnProperty("observer")&&(this.observer.disconnect(),this.contextObserver.disconnect()),this.unbind(),this.clear(),this.mask("remove"),e.data(this.elem,o,null)}}),e.fn[o]=function(t,i){return this.each(function(){var a=e.data(this,o);a?"string"==typeof t&&(s.indexOf(t)>-1?a[t].apply(a,Array.isArray(i)?i:[i]):console.warn(o+": Trying to call a inaccessible method")):e.data(this,o,new n(this,t))})},e.fn[o].defaults={context:null,mask:!0,observe:!1,topOffset:0,bottomOffset:0,scrollSpace:200,classNames:{stick:"stick",bound:"bound",mask:"sticky-mask"},onStick:function(){},onUnStick:function(){},onBound:function(){},onUnBound:function(){}}}(jQuery,window,document),function(e,t){"use strict";function i(t,i){this.config=e.extend({},e.fn[n].defaults,i),this.elem=t,this.$elem=e(t),this.init()}var n="tab",o=[];e.extend(i.prototype,{init:function(){}}),e.fn[n]=function(t,s){return this.each(function(){var a=e.data(this,n);a?"string"==typeof t&&(o.indexOf(t)>-1?a[t].apply(a,Array.isArray(s)?s:[s]):console.warn(n+": Trying to call a inaccessible method")):e.data(this,n,new i(this,t))})},e.fn[n].defaults={classNames:{tabs:"menu--tabs",item:"menu__item",link:"menu__link"},onOpen:function(){},onSelect:function(){},onClose:function(){}}}(jQuery,window),function(e){"use strict";function t(t,n,o,s){var a=this;a.config=e.extend({},e.fn[i].defaults,o),a.elem=t,a.$elem=e(t),"function"==typeof s&&(a.config.onEnd=s),o==parseInt(o)?a.config.duration=o:"function"==typeof o&&(a.config.onEnd=o),a.config.queue?a.$elem.queue(function(){a.init(n)}):a.init(n)}var i="transition",n=Fm.transitionEnd();e.extend(t.prototype,{init:function(e){var t=this,i=t.config;if(t.animation=t.parse(e),"display"===t.animation)return t.end();if(!i.animations.hasOwnProperty(t.animation))return console.warn("Trying to call an undefined animation");n?t.$elem.off(n).one(n,function(e){e.stopPropagation(),t.end()}):setTimeout(t.end.bind(t),i.duration+i.delay);var o=function(){requestAnimationFrame(t.start.bind(t))};i.delay?o():setTimeout(o,i.delay)},parse:function(e){return"In"===e.slice(-2)?(this.direction="inward",e=e.slice(0,-2)):"Out"===e.slice(-3)?(this.direction="outward",e=e.slice(0,-3)):this.direction=this.$elem.is(":visible")?"outward":"inward",e},start:function(){var e=this;e.config.onStart.call(e.elem),e.$elem.css(e.style("start")).show(),requestAnimationFrame(function(){e.$elem.css(e.style("end"))})},end:function(){var e=this;e.toggleDisplay(),e.config.onEnd.call(e.elem),e.$elem.css({opacity:"",transform:"","transform-origin":"",transition:""}),e.config.queue&&requestAnimationFrame(function(){e.$elem.dequeue()})},toggleDisplay:function(){"inward"===this.direction?this.$elem.show():this.$elem.hide(),this.elem.hasAttribute("aria-hidden")&&this.$elem.attr("aria-hidden","inward"!==this.direction)},style:function(e){var t,i=this,n=i.config.animations[i.animation],o=i.direction;"start"===e?(t="inward"===o?n.start:n.end,t.transition=null):(t="inward"===o?n.end:n.start,t.transition="all "+i.config.duration+"ms "+i.config.curve);for(var s in t){var a=Fm.prefixProp(s);a!==s&&(t[a]=t[s])}return t}}),e.fn[i]=function(e,i,n){return this.each(function(){new t(this,e,i,n)})},e.fn[i].defaults={duration:280,delay:0,curve:"ease",queue:!0,onStart:function(){},onEnd:function(){}},e.fn[i].defaults.animations={fade:{start:{opacity:0},end:{opacity:1}},fadeUp:{start:{opacity:0,transform:"translateY(10%)"},end:{opacity:1,transform:"translateY(0)"}},fadeDown:{start:{opacity:0,transform:"translateY(-10%)"},end:{opacity:1,transform:"translateY(0)"}},scale:{start:{opacity:0,transform:"scale(0.6)"},end:{opacity:1,transform:"scale(1.0)"}},scaleUp:{start:{opacity:0,transform:"scale(0.6)","transform-origin":"bottom"},end:{opacity:1,transform:"scale(1.0)","transform-origin":"bottom"}},scaleDown:{start:{opacity:0,transform:"scale(0.6)","transform-origin":"top"},end:{opacity:1,transform:"scale(1.0)","transform-origin":"top"}},slideUp:{start:{opacity:.2,transform:"scaleY(0.01)","transform-origin":"bottom"},end:{opacity:1,transform:"scaleY(1)","transform-origin":"bottom"}},slideDown:{start:{opacity:.2,transform:"scaleY(0.01)","transform-origin":"top"},end:{opacity:1,transform:"scaleY(1)","transform-origin":"top"}},flipX:{start:{opacity:0,transform:"perspective(2000px) rotateY(-90deg)"},end:{opacity:1,transform:"perspective(2000px) rotateY(0deg)"}},flipY:{start:{opacity:0,transform:"perspective(2000px) rotateX(-90deg)"},end:{opacity:1,transform:"perspective(2000px) rotateX(0deg)"}}}}(jQuery);
//# sourceMappingURL=fundament.min.js.map
